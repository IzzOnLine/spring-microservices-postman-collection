{
	"info": {
		"_postman_id": "69d77ebc-58f5-464f-8d0b-ce7c0f92c186",
		"name": "spring-microservices-postman-collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "security",
			"item": [
				{
					"name": "1 - OAuth2 Login - Get JWT Token",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "Spring5Microservices",
									"type": "string"
								},
								{
									"key": "username",
									"value": "Spring5Microservices",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic Y2xpZW50YXBwOjEyMzQ1Ng==",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "grant_type",
									"value": "password",
									"type": "text"
								},
								{
									"key": "username",
									"value": "admin",
									"type": "text"
								},
								{
									"key": "password",
									"value": "admin",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "read",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:5555/security/oauth/token",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5555",
							"path": [
								"security",
								"oauth",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "2 - Generate MFA QR Code",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbiIsImV4cCI6MTYwMTY0MzQxOCwiYXV0aG9yaXRpZXMiOlsiUk9MRV9BRE1JTiJdLCJqdGkiOiJiN2RjNGM0ZC1hODJmLTRhM2UtOTQxMS1iNThmYzM1MDY1NDAiLCJjbGllbnRfaWQiOiJTcHJpbmc1TWljcm9zZXJ2aWNlcyJ9.YfQ1H7CqM5Wh_kjeFm0CjjAPO6mzHUDqpD8LlnJikWnA3ynuKbNPuXWtaKr2sCHkTshzzO2IOyhDkz8hd_CohA",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:5555/security/api/user/generate-qr",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5555",
							"path": [
								"security",
								"api",
								"user",
								"generate-qr"
							]
						}
					},
					"response": []
				},
				{
					"name": "3 - Enable MFA",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbiIsImV4cCI6MTYwMTY0MzkyNCwiYXV0aG9yaXRpZXMiOlsiUk9MRV9BRE1JTiJdLCJqdGkiOiI4YzY4MTAwNy0xZGY2LTQxMzAtYTdkYS01MWU3OTk5OTEzNzYiLCJjbGllbnRfaWQiOiJTcHJpbmc1TWljcm9zZXJ2aWNlcyJ9.nQ0TNLNLbfmJ7B8Suvb17h1YitHZ6y3o6wN-ZZhD3GAthXZvzfVdrA9rtGub3ziJ5UBKnRcpcqhYah7m-Enq2g",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:5555/security/api/user/enable-2fa?code=917288",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5555",
							"path": [
								"security",
								"api",
								"user",
								"enable-2fa"
							],
							"query": [
								{
									"key": "code",
									"value": "917288"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "5 - Refresh Token",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
								"key": "Authorization",
								"value": "Basic U3ByaW5nNU1pY3Jvc2VydmljZXM6U3ByaW5nNU1pY3Jvc2VydmljZXM=",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "grant_type",
									"value": "refresh_token",
									"type": "text"
								},
								{
									"key": "refresh_token",
									"value": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbjIiLCJhdGkiOiI2NTI5MDMyNS03MTNkLTRlZWYtOWY3ZC01NjFlNjUxZWNlMTgiLCJleHAiOjE2MDE4ODMyODcsImp0aSI6IjQ2NmFkYTQzLTAzNWEtNGM3NC04M2VjLWVjN2I3OTE1N2ExYSIsImNsaWVudF9pZCI6IlNwcmluZzVNaWNyb3NlcnZpY2VzIn0.XbU1vFFUH8g_9kDKShdkRHEw86BWa8NW-lRyl83DOrFtTT50CCRBGGOfjuBdZjzs-QFaG95fsBZx0ia9xj_hQg",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:5555/security/oauth/token",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5555",
							"path": [
								"security",
								"oauth",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "4 - MFA Auth",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "Spring5Microservices",
									"type": "string"
								},
								{
									"key": "username",
									"value": "Spring5Microservices",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "grant_type",
									"value": "mfa",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "read",
									"type": "text"
								},
								{
									"key": "mfa_token",
									"value": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbiIsImV4cCI6MTYwMTk4MDk3MywiYXV0aG9yaXRpZXMiOlsiUFJFX0FVVEgiXSwianRpIjoiNjg4MGI1MTgtMGY3NC00ZjEzLThkMWEtOTFhZjM4YzEyMjI2IiwiY2xpZW50X2lkIjoiU3ByaW5nNU1pY3Jvc2VydmljZXMifQ.M7o433AQQj8b-S4bpFBlLsApX_b_HmQpbuZs3DejqVwC2WWW7kCTlGTkTvhrV5FgArA70t_VOzLHlLWGKs0kbg",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:5555/security/oauth/token",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5555",
							"path": [
								"security",
								"oauth",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "ENCRYPT",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "admin"
						},
						"url": {
							"raw": "localhost:8888/encrypt",
							"host": [
								"localhost"
							],
							"port": "8888",
							"path": [
								"encrypt"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "microservice",
			"item": [
				{
					"name": "Access Denied call",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbiIsImV4cCI6MTYyMjk3MDcyNSwiYXV0aG9yaXRpZXMiOlsiUk9MRV9VU0VSIiwiUk9MRV9BRE1JTiJdLCJqdGkiOiI1YWU1NTIxOC0zMzBlLTQ1NTMtOTRhZC1jNGNmYWUwMzczNDMiLCJjbGllbnRfaWQiOiJTcHJpbmc1TWljcm9zZXJ2aWNlcyJ9.wBh3n9qrxKujEngZfbQdZWEmND9iVVFgjBPZykK5xLRkgNcgPVeCmvZrlVtNlBIMW8yjZW52hibDlifAAY_3Qg",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:5555/microservice/api/x/b",
							"host": [
								"localhost"
							],
							"port": "5555",
							"path": [
								"microservice",
								"api",
								"x",
								"b"
							]
						}
					},
					"response": []
				},
				{
					"name": "Success call",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJhZG1pbiIsImV4cCI6MTYyMjk3MDcyNSwiYXV0aG9yaXRpZXMiOlsiUk9MRV9VU0VSIiwiUk9MRV9BRE1JTiJdLCJqdGkiOiI1YWU1NTIxOC0zMzBlLTQ1NTMtOTRhZC1jNGNmYWUwMzczNDMiLCJjbGllbnRfaWQiOiJTcHJpbmc1TWljcm9zZXJ2aWNlcyJ9.wBh3n9qrxKujEngZfbQdZWEmND9iVVFgjBPZykK5xLRkgNcgPVeCmvZrlVtNlBIMW8yjZW52hibDlifAAY_3Qg",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:5555/microservice/api/x/a",
							"host": [
								"localhost"
							],
							"port": "5555",
							"path": [
								"microservice",
								"api",
								"x",
								"a"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}
